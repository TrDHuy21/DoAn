@using Application.Dtos.ProductDetailDtos



@{
	var item = ViewData["productDetail"] as IndexProductDetailDto   
		?? new IndexProductDetailDto();
}
@* 
<div class="col-12 col-sm-6 col-md-4 col-lg-3 mr-10">
    <a class="product-card d-block" href="@Url.Action("info", "productdetail", new { id = item.Id })">
        <div class="product-image">
            @if (item.Image != null)
            {
                var base64String = Convert.ToBase64String(item.Image.Data);
                var imageSrc = $"data:{item.Image.Type};base64,{base64String}";
                <img src="@imageSrc" alt="Image" class="img-fluid" style="width: auto; height: auto;" />
            }
        </div>
        <div class="product-info">
            <div class="promotion-tag">10%</div>
            <h3 class="product-title">@item.Name</h3>
            <div class="product-price">@item.Price.ToString("N0") đ</div>
            <div class="product-old-price">9999999</div>
        </div>
    </a>
</div>
 *@
@* 
<div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
    <div class="card h-100 border-0 shadow-sm rounded-3 overflow-hidden">
        <a href="@Url.Action("info", "productdetail", new { id = item.Id })" class="text-decoration-none text-dark">
            <div class="card-img-top overflow-hidden" style="height: 200px;">
                @if (item.Image != null)
                {
                    var base64String = Convert.ToBase64String(item.Image.Data);
                    var imageSrc = $"data:{item.Image.Type};base64,{base64String}";
                    <img src="@imageSrc" alt="@item.Name" class="img-fluid h-100 w-100 object-fit-cover rounded-top" />
                }
            </div>
            <div class="card-body">
                <span class="badge bg-danger position-absolute top-0 start-0 m-2 rounded-pill">10%</span>
                <h5 class="card-title">@item.Name</h5>
                <div class="d-flex align-items-center">
                    <span class="text-danger fw-bold">@item.Price.ToString("N0") đ</span>
                    <span class="text-decoration-line-through text-muted small ms-2">9999999 đ</span>
                </div>
            </div>
        </a>
    </div>
</div>
 *@

<!-- CardProductDetailComponent chỉ sử dụng Bootstrap classes -->
<div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
    <a class="text-decoration-none text-dark d-block" href="@Url.Action("info", "productdetail", new { id = item.Id })">
        <div class="card h-100 shadow-sm border-0 position-relative">
            <!-- Nhãn góc trên phải -->
            @if (item.IsHot || item.IsSale || item.IsNew)
            {
                <div class="position-absolute d-flex flex-wrap gap-1" style="top: 10px; right: 10px; z-index: 10">
                    @if (item.IsHot)
                    {
                        <span class="badge bg-danger rounded-pill">
                            <i class="bi bi-fire me-1"></i>Hot
                        </span>
                    }
                    @if (item.IsSale)
                    {
                        <span class="badge bg-success rounded-pill">
                            <i class="bi bi-percent me-1"></i>Sale
                        </span>
                    }
                    @if (item.IsNew)
                    {
                        <span class="badge bg-primary rounded-pill">
                            <i class="bi bi-star me-1"></i>New
                        </span>
                    }
                </div>
            }

            <!-- Product Image -->
            <div class="card-img-top d-flex align-items-center justify-content-center bg-light" style="height: 200px;">
                @if (item.Image != null)
                {
                    var base64String = Convert.ToBase64String(item.Image.Data);
                    var imageSrc = $"data:{item.Image.Type};base64,{base64String}";
                    <img src="@imageSrc" alt="@item.Name" class="img-fluid" style="max-height: 180px; max-width: 100%; object-fit: contain;" />
                }
                else
                {
                    <div class="text-muted">
                        <i class="bi bi-image" style="font-size: 3rem;"></i>
                    </div>
                }
            </div>

            <!-- Product Info -->
            <div class="card-body d-flex flex-column">
                <h6 class="card-title text-truncate mb-2">@item.Name</h6>
                <div class="mt-auto">
                    <div class="d-flex align-items-center gap-2">
                        <span class="h6 text-primary mb-0 fw-bold">@item.Price.ToString("N0") đ</span>
                    </div>
                </div>
            </div>
        </div>
    </a>
</div>
